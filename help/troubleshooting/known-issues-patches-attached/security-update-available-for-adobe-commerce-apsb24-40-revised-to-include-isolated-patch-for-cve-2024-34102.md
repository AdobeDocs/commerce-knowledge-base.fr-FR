---
title: Mise à jour de sécurité disponible pour Adobe Commerce - [!DNL APSB24-40]
promoted: true
description: Appliquez un correctif et correctif pour corriger  [!DNL CVE-2024-34102] pour Adobe Commerce 2.4.4-p8, 2.4.5-p7, 2.4.6-p5, 2.4.7 et versions antérieures.
feature: Compliance, Security
role: Developer
exl-id: b6f4a26f-a6cf-4ced-841e-a579c8e0f8f4
source-git-commit: e7488396f2dcdb03944eddefa2c0093b31c21760
workflow-type: tm+mt
source-wordcount: '746'
ht-degree: 0%

---

# Mise à jour de sécurité disponible pour Adobe Commerce - [!DNL APSB24-40]

>[!NOTE]
>
>**Il s’agit d’une mise à jour urgente liée à [!DNL CVE-2024-34102]. Adobe sait que [!DNL CVE-2024-34102] a été exploité dans la nature dans des attaques très limitées ciblant des commerçants Adobe Commerce.

Le 17 juillet 2024, nous avons publié un [!DNL hotfix] en plus de la mise à jour de sécurité du 11 juin 2024 et/ou du correctif isolé publié le 28 juin 2024.

**Vérifiez tous les environnements de production et autres pour vous assurer que votre magasin est entièrement corrigé sur toutes les instances.  Veuillez prendre <u>une action immédiate</u> pour résoudre la vulnérabilité.**

>[!NOTE]
>
>**Pour les commerçants Adobe Commerce on Cloud uniquement** :<br><br>1. Assurez-vous que vous utilisez la dernière version de [!DNL ECE Tools]. Si ce n’est pas le cas, effectuez une mise à niveau (ou passez à l’élément 2). Pour vérifier votre version existante, exécutez la commande suivante :`composer show magento/ece-tools`<br>2. Si vous utilisez déjà la dernière version de [!DNL ECE Tools], vérifiez la présence du fichier `op-exclude.txt`. Pour ce faire, exécutez la commande suivante :`ls op-exclude.txt`. Si ce fichier n’est pas présent, ajoutez https://github.com/magento/magento-cloud/blob/master/op-exclude.txt à votre référentiel, puis validez la modification et redéployez.<br>3. Sans avoir à effectuer la mise à niveau [!DNL ECE Tools], vous pouvez également ajouter/modifier https://github.com/magento/magento-cloud/blob/master/op-exclude.txt dans votre référentiel, puis valider la modification et redéployer.

## Option 1 - Pour les commerçants qui ont <u>not</u> appliqué la mise à jour de sécurité à partir du 11 juin 2024, ni le correctif isolé publié le 28 juin 2024

1. Appliquez [!DNL hotfix] publié le 17 juillet 2024.
1. Appliquez le correctif de sécurité.
1. Activez [!UICONTROL maintenance mode].
1. Désactivez l&#39;exécution de [!DNL cron] (commande Commerce on Cloud : `vendor/bin/ece-tools cron:disable`).
1. [Faire pivoter votre [!UICONTROL encryption keys]](https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/encryption-key).
1. Videz le cache.
1. Activez l’exécution [!DNL cron] (commande Commerce on Cloud : `vendor/bin/ece-tools cron:enable`).
1. Désactivez [!UICONTROL maintenance mode].

OU

1. Appliquez le correctif isolé. **<u>REMARQUE</u> : Cette version du correctif isolé contient le 17 juillet 2024, [!DNL hotfix] à l’intérieur.**
1. Activez [!UICONTROL maintenance mode].
1. Désactivez l&#39;exécution de [!DNL cron] (commande Commerce on Cloud : `vendor/bin/ece-tools cron:disable`).
1. [Faire pivoter votre [!UICONTROL encryption keys]](https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/encryption-key).
1. Videz le cache.
1. Activez l’exécution [!DNL cron] (commande Commerce on Cloud : `vendor/bin/ece-tools cron:enable`).
1. Désactivez [!UICONTROL maintenance mode].

## Option 2 - Pour les commerçants qui ont <u>déjà</u> appliqué la mise à jour de sécurité à partir du 11 juin 2024 et/ou le correctif isolé publié le 28 juin 2024

1. Appliquez [!DNL hotfix] publié le 17 juillet 2024.
1. Activez [!UICONTROL maintenance mode].
1. Désactivez l&#39;exécution de [!DNL cron] (commande Commerce on Cloud : `vendor/bin/ece-tools cron:disable`).
1. [Faire pivoter votre [!UICONTROL encryption keys]](https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/encryption-key).
1. Videz le cache.
1. Activez l’exécution [!DNL cron] (commande Commerce on Cloud : `vendor/bin/ece-tools cron:enable`).
1. Désactivez [!UICONTROL maintenance mode].

## Option 3 - Pour les commerçants qui ont <u>déjà</u> (1) appliqué la mise à jour de sécurité à partir du 11 juin 2024 et/ou (2) le correctif isolé publié le 28 juin 2024 et (3) fait pivoter vos clés de chiffrement

* Appliquez le [correctif](#hotfix) publié le 17 juillet 2024.


>[!NOTE]
>
>Pour vous assurer que vous êtes toujours en sécurité après la mise à niveau, vous devez également **[faire pivoter votre [!UICONTROL encryption keys]](https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/encryption-key)**:<br><br>1. Activez [!UICONTROL maintenance mode].<br>2. Désactivez l&#39;exécution de [!DNL cron] (commande Commerce on Cloud : `vendor/bin/ece-tools cron:disable`).<br>3. Rotation de votre [!DNL encryption keys].<br>4. Activez l’exécution [!DNL cron] (commande Commerce on Cloud : `vendor/bin/ece-tools cron:enable`).<br>5. Désactivez [!UICONTROL maintenance mode].

Dans cet article, vous trouverez comment mettre en oeuvre le correctif isolé pour ce problème pour les versions actuelles et antérieures d’Adobe Commerce et de Magento Open Source.
**<u>REMARQUE</u> : Cette version du correctif isolé contient le 17 juillet 2024, [!DNL hotfix] à l’intérieur.**

## Produits et versions concernés

Adobe Commerce on Cloud, Adobe Commerce on-premise et Magento Open Source :

* 2.4.7-p1 et versions antérieures
* 2.4.6-p6 et versions antérieures
* 2.4.5-p8 et versions antérieures
* 2.4.4-p9 et versions antérieures

## Solution pour Adobe Commerce on Cloud, le logiciel Adobe Commerce on-premise et le Magento Open Source

Pour résoudre la vulnérabilité des produits et versions concernés, vous devez appliquer le correctif [!DNL VULN-27015] (selon votre version) et faire pivoter votre [!UICONTROL encryption keys].

## Détails du correctif {#hotfix}

* Téléchargez le fichier [!DNL Hotfix] [AC-12485_Hotfix_COMPOSER_patch.zip](assets/AC-12485_Hotfix_COMPOSER_patch.zip)

## Détails du correctif isolé

**<u>REMARQUE</u> : Cette version du correctif isolé contient le 17 juillet 2024, [!DNL hotfix] à l’intérieur.**

Utilisez les correctifs ci-joint suivants, en fonction de votre version d’Adobe Commerce/de Magento Open Source :

### Pour la version 2.4.7 :

* [VULN-27015-2.4.7x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.7x_v2_COMPOSER_patch.zip)

### Pour les versions 2.4.6, 2.4.6-p1, 2.4.6-p2, 2.4.6-p3, 2.4.6-p4, 2.4.6-p5 :

* [VULN-27015-2.4.6x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.6x_v2_COMPOSER_patch.zip)

### Pour les versions 2.4.5, 2.4.5-p1, 2.4.5-p2, 2.4.5-p3, 2.4.5-p4, 2.4.5-p5, 2.4.5-p5, 2.4.5-p6, 2.4.5-p7 :

* [VULN-27015-2.4.5x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.5x_v2_COMPOSER_patch.zip)

### Pour les versions 2.4.4, 2.4.4-p1, 2.4.4-p2, 2.4.4-p3, 2.4.4-p4, 2.4.4-p5, 2.4.4-p6, 2.4.4-p7, 2.4.4-p8 :

* [VULN-27015-2.4.4x_v2_COMPOSER_patch.zip](assets/VULN-27015-2.4.4x_v2_COMPOSER_patch.zip)


## Comment appliquer le correctif isolé et le [!DNL hotfix]

Décompressez le fichier et reportez-vous à la section [Comment appliquer un correctif de compositeur fourni par Adobe](https://experienceleague.adobe.com/docs/commerce-knowledge-base/kb/how-to/how-to-apply-a-composer-patch-provided-by-magento.html) dans notre base de connaissances de support pour obtenir des instructions.

## Pour les marchands Adobe Commerce on Cloud uniquement : comment déterminer si les correctifs isolés ont été appliqués

Étant donné qu&#39;il n&#39;est pas possible de vérifier facilement si le problème a été corrigé, vous pouvez vérifier si le correctif isolé [!DNL VULN-27015] a bien été appliqué.

<u>Pour ce faire, procédez comme suit en utilisant le fichier `VULN-27015-2.4.7_COMPOSER.patch` comme exemple</u> :

1. [Installation de l’outil de correctifs de qualité](https://experienceleague.adobe.com/docs/commerce-operations/tools/quality-patches-tool/usage.html).
1. Exécutez la commande :<br>
   ![cve-2024-34102-tell-if-patch-applied-code](assets/cve-2024-34102-tell-if-patch-applied-code.png)

<!--
    ```bash
    vendor/bin/magento-patches -n status |grep "27015\|Status"
    ```
-->

1. Vous devriez voir une sortie similaire à celle-ci, où VULN-27015 renvoie l’état *Appliqué* :

   ```bash
   ║ Id            │ Title                                                        │ Category        │ Origin                 │ Status      │ Details                                          ║ ║ N/A           │ ../m2-hotfixes/VULN-27015-2.4.7_COMPOSER_patch.patch      │ Other           │ Local                  │ Applied     │ Patch type: Custom                                
   ```

## Faire pivoter/modifier le [!UICONTROL encryption key] après avoir appliqué le correctif

* Pour plus d&#39;informations **sur la façon de faire pivoter/modifier le [!UICONTROL encryption key] après l&#39;application du correctif, reportez-vous au [guide des systèmes d&#39;administration : [!UICONTROL Encryption key]](https://experienceleague.adobe.com/en/docs/commerce-admin/systems/security/encryption-key)** dans la documentation du guide des systèmes d&#39;administration Commerce.

## Mises à jour de sécurité

Mises à jour de sécurité disponibles pour Adobe Commerce :

* [Bulletin de sécurité Adobe ([!DNL APSB24-40])](https://helpx.adobe.com/security/products/magento/apsb24-40.html)
